<mat-sidenav-container>
    <mat-sidenav #sidenav mode="side" [(opened)]="opened">
        <div class="nav-icon" tappable (click)="goToDashboard()">
        <mat-icon>dashboard</mat-icon>
        <mat-label>Dashboard</mat-label>
        </div>

        <div class="nav-icon" routerLink="/add-vendor">
            <mat-icon class="active">add_box</mat-icon>
            <mat-label class="active">AddVendor</mat-label>
        </div>

        <div class="nav-icon" routerLink="/add-payment">
            <mat-icon>attach_money</mat-icon>
            <mat-label>Payment</mat-label>
        </div>

        <div class="nav-icon" routerLink="/usermanagement">
            <mat-icon style="font-size: 30px">supervisor_account</mat-icon>
            <mat-label style="text-align: center;">User Management</mat-label>
        </div>
  
        <div class="nav-icon" routerLink="/add-payment">
          <mat-icon>account_circle</mat-icon>
          <mat-label style="text-align: center;">Account</mat-label>
      </div>

    </mat-sidenav>
    <mat-sidenav-content style="background-color:white">

        <mat-toolbar class="mat-toolbar"> <!--Toolbar C-->

            <mat-button *ngIf="close==false" class="toggle" (click)="sidenav.close()" (click)="closeNav()"><mat-icon class="toggle">close</mat-icon></mat-button>
            <mat-button *ngIf="close==true" class="toggle" (click)="sidenav.open()" (click)="openNav()"><mat-icon class="toggle">menu</mat-icon></mat-button>
            <span class="titleTxt">Add Vendor</span>

            <div class="name-inline">
                <p class="username">{{username}}</p>
                <p class="role">{{role}}</p>
      
            </div>

            <img class="profile-photo" src="assets/profile.png"/>
            <mat-icon matBadge="{{notifyNo}}" matBadgeColor="warn" class="notification" (click)="openNotification()">notifications</mat-icon>
            <!-- <p class="no-number" style="color:white;" >{{notifyNo}}</p> -->

        </mat-toolbar>

        <mat-tab-group #tab2Button class="mat-group" animationDuration="0ms">
            <mat-tab class="mat-tab-first" class="mat-tab" label="Step 1: Personal Details">

                <mat-card class="search-card">
                    <form [formGroup]="registrationForm">
        
                        <mat-label>Vendor Name:</mat-label>                    
                        <br>
                        <input #name formControlName="name" type="text" placeholder="Enter Name.."/>
                        
                        <div *ngFor="let error of errorMessages.name">
                            <ng-container *ngIf="registrationForm.controls['name']?.hasError(error.type)">
                              <small class="error-message">{{error.message}}</small>
                            </ng-container>
                        </div>
                        <br>
                        <mat-label>IC Number:</mat-label>
                        <br>
        
                        <select style="color: black;" formControlName="forIC" class="selection" name="IC" placeholder="No.">
                            <option *ngFor="let value of value" value="{{value.id}}">{{value.id}}</option>
                        </select>
        
                        <mat-label class="IC-Dash">-</mat-label>
        
                        <input formControlName="IC_Number" style="width: 88%;" type="text" placeholder="Enter IC Number"/>
                        
                        <div *ngFor="let error of errorMessages.IC_Number">
                            <ng-container *ngIf="registrationForm.controls['IC_Number']?.hasError(error.type)">
                              <small class="error-message">{{error.message}}</small>
                            </ng-container>
                        </div>
                        <br>
                        <mat-label>Email Address:</mat-label>
                        <br>
        
                        <input formControlName="email" type="email" placeholder="Enter Email Address"/>
                        
                        <div *ngFor="let error of errorMessages.email">
                            <ng-container *ngIf="registrationForm.controls['email']?.hasError(error.type)">
                              <small class="error-message">{{error.message}}</small>
                            </ng-container>
                        </div>
                        <br>
                        <mat-label>Phone Number:</mat-label>
                        <br>
        
                        <input formControlName="phone" type="string" placeholder="e.g 8989898">
                        
                        <div *ngFor="let error of errorMessages.phone">
                            <ng-container *ngIf="registrationForm.controls['phone']?.hasError(error.type)">
                              <small class="error-message">{{error.message}}</small>
                            </ng-container>
                        </div>
                        <br>
                        <mat-label>Address:</mat-label>
                        <br>
        
                        <textarea formControlName="address" type="string" placeholder="Enter Postal Address"></textarea>
                        
                        <div *ngFor="let error of errorMessages.address">
                            <ng-container *ngIf="registrationForm.controls['address']?.hasError(error.type)">
                              <small class="error-message">{{error.message}}</small>
                            </ng-container>
                        </div>
                        <br>

                        <button mat-raised-button class="submitBtn" (click)="tabClick(tab2Button)">Step 2: Spouse and Child Details</button>
                        <br>
                    </form>
        
                </mat-card>
                <br>
                <br>
                <br>
                <br>



            </mat-tab>
            <mat-tab [disabled]="stepTwo" label="Step 2: Spouse and Child Details">

                
                <mat-card class="search-card">
                    <form [formGroup]="registrationForm">

                        <p style="color:black; font-size: 16px; font-weight: bold;">Spouse Details</p>
        
                        <mat-label>Spouse Name:</mat-label>                    
                        <br>
                        <input #spouseName formControlName="spouseName" type="text" placeholder="Enter Spouse Name.."/>
                        
                        <div *ngFor="let error of errorMessages.spouseName">
                            <ng-container *ngIf="registrationForm.controls['spouseName']?.hasError(error.type)">
                              <small class="error-message">{{error.message}}</small>
                            </ng-container>
                        </div>
                        <br>
                        <mat-label>Spouse IC Number:</mat-label>
                        <br>
        
                        <select style="color: black;" formControlName="spIC" class="selection" name="IC" placeholder="No.">
                            <option *ngFor="let value of value" value="{{value.id}}">{{value.id}}</option>
                        </select>
        
                        <mat-label class="IC-Dash">-</mat-label>
        
                        <input formControlName="spouseIC_Number" style="width: 88%;" type="text" placeholder="Enter IC Number"/>
                        
                        <div *ngFor="let error of errorMessages.spouseIC_Number">
                            <ng-container *ngIf="registrationForm.controls['spouseIC_Number']?.hasError(error.type)">
                              <small class="error-message">{{error.message}}</small>
                            </ng-container>
                        </div>

                        <br>
                        <br>

                        <p style="color:black; font-size: 16px; font-weight: bold;">Child Details</p>
                        <p style="color: purple; font-size: 12px;">*User can add multiple child detail by clicking "Add" button.</p>
                        

                        <mat-label>Child Name:</mat-label>                    
                        <br>
                        <input #childName formControlName="childName" type="text" placeholder="Enter Child Name.."/>
                        
                        <div *ngFor="let error of errorMessages.childName">
                            <ng-container *ngIf="registrationForm.controls['childName']?.hasError(error.type)">
                              <small class="error-message">{{error.message}}</small>
                            </ng-container>
                        </div>
                        <br>

                        <mat-label>Child IC Number:</mat-label>
                        <br>
        
                        <select style="color: black;" formControlName="chIC" class="selection" name="IC" placeholder="No.">
                            <option *ngFor="let value of value" value="{{value.id}}">{{value.id}}</option>
                        </select>
        
                        <mat-label class="IC-Dash">-</mat-label>
        
                        <input formControlName="childIC_Number" style="width: 88%;" type="text" placeholder="Enter IC Number"/>
                        
                        <div *ngFor="let error of errorMessages.childIC_Number">
                            <ng-container *ngIf="registrationForm.controls['childIC_Number']?.hasError(error.type)">
                              <small class="error-message">{{error.message}}</small>
                            </ng-container>
                        </div>
                        <br>
                        <button mat-raised-button class="addBtn" (click)="AddChild()"><mat-icon style="color: white; margin-right: 5px;">add_circle_outline</mat-icon>Add</button>


                        <table *ngIf="childArray.length !==0" id="childTable" style="width:98%;">
                            <tr>
                              <th>Child No.</th>
                              <th>Name</th>
                              <th>IC Number</th>
                              <th>Action</th>
                            </tr>
                            <tr *ngFor="let data of childArray; let i = index">
                              <td style="color: black">{{i}}</td>
                              <td style="color: black">{{data.name}}</td>
                              <td style="color: black">{{data.IC_Number}}</td>
                              <td><button mat-raised-button class="delBtn" (click)="clearChild(i)">Clear</button></td>
                            </tr>
                          </table>
        
                        <br>
                        <br>
                        <br>
                        <button mat-raised-button class="submitBtn" (click)="tabClick(tab2Button)">Step 3: Slot and Amount</button>
                        <br>
                    </form>
        
                </mat-card>

                <br>
                <br>
                <br>
                <br>



            </mat-tab>
            <mat-tab [disabled]="stepThree" label="Step 3: Slot and Amount">
                <mat-card class="search-card">
                    <form [formGroup]="registrationForm">
        
                        <mat-label>Registration Date:</mat-label>
                        <br>
        
                        <input type="date" formControlName="rent_Date" placeholder="Enter Date">
                        
                        <div *ngFor="let error of errorMessages.rent_Date">
                            <ng-container *ngIf="registrationForm.controls['rent_Date']?.hasError(error.type)">
                              <small class="error-message">{{error.message}}</small>
                            </ng-container>
                        </div>
                        <br>
        
                        <mat-label>Slot No.</mat-label>
                        <br>
        
                        <input style="width: 90%" formControlName="slot" type="text" placeholder="Slot No.">
                        <mat-icon tappable (click)="addSlot()" style="cursor:pointer; color:purple; font-size:40px;position: relative;top:18px;left: 10px;">add_circle_outline</mat-icon>
        
                        <div *ngFor="let error of errorMessages.slot">
                            <ng-container *ngIf="registrationForm.controls['slot']?.hasError(error.type)">
                              <small class="error-message">{{error.message}}</small>
                            </ng-container>
                        </div>
        
                        
                        <mat-list role="list" *ngIf="slotArray.length !== 0" style="margin-bottom:10px;">
                            <mat-list-item style="color:black; box-shadow: 1px 5px rgba(174, 0, 255, 0.238);"*ngFor="let data of slotArray; let i = index" role="listitem">
                                <mat-icon style="color:purple">where_to_vote</mat-icon>
                                   <mat-label>{{data.slot}}</mat-label>
                                   <mat-icon (click)="clear(i)" style="cursor:pointer;position:absolute; right: 10px;">clear</mat-icon>
                            </mat-list-item>
                        </mat-list>
        
                        <br>
                        <mat-label>Slot Price.</mat-label>
                        <br>
        
                        <input formControlName="slotprice" type="number" placeholder="Slot Price ($)">
                        
                        <div *ngFor="let error of errorMessages.slotprice">
                            <ng-container *ngIf="registrationForm.controls['slotprice']?.hasError(error.type)">
                              <small class="error-message">{{error.message}}</small>
                            </ng-container>
                        </div>
        
                        <button mat-raised-button class="submitBtn" (click)="submit()">Create Vendor</button>
                        <br>
                    </form>
        
                </mat-card>
            </mat-tab>
          </mat-tab-group>
     


       
































        
    </mat-sidenav-content>
    </mat-sidenav-container>
